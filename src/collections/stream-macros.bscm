;; Copyright 2014,2015 - William Emerison Six
;;  All rights reserved
;;  Distributed under LGPL 2.1 or Apache 2.0

(include "../lang#.scm")
(include "../lang-macros.scm")

(at-compile-time
 (my-include "lang.scm"))

(my-include "collections/stream#.scm")

(with-tests
 (define-macro stream#cons
   [|a b|
    `(##cons ,a (delay ,b))])
 (begin
   (let ((s (stream#cons 1 2)))
     (all?
      (list
       (equal? (##car s)
		 1)
       (equal? (force (##cdr s))
		 2))))))
